:root{
  --bg:#070709;          /* ดำสนิท */
  --panel:#0e0d12;
  --line:#1c1a22;
  --pink:#ff4dac;        /* ชมพูนีออน */
  --pink2:#ff79c6;       /* ชมพูอ่อน */
  --txt:#f6f2f8;
  --muted:#a39cab;
  --win:#9afff0;         /* สีไฮไลต์เส้นชนะ */
}

/* ===== Global layout: เต็มจอ ไม่มีสกรอลล์ กระดานอยู่กลางเสมอ ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(1200px 900px at 60% -10%, #111016 0%, var(--bg) 60%);
  color:var(--txt);
  font-family:"JetBrains Mono", ui-monospace, monospace;
  overflow:hidden;
  display:flex;
}
.wrap{
  margin:auto;
  width:min(92vw, 640px);
  height:100vh;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:14px; padding:12px;
}

/* ===== Header / panel ===== */
.brand{
  margin:0 0 2px; text-align:center; font-weight:800;
  font-size:clamp(1.6rem, 6vw, 2.4rem);
  letter-spacing:.02em;
  text-shadow:0 0 22px rgba(255,77,172,.35);
}
.brand b{ color:var(--pink); }
.brand span{ color:var(--muted); }

.panel{
  width:100%;
  background: linear-gradient(180deg, var(--panel), #0a0a0d);
  border:1px solid #231f2b;
  border-radius:18px;
  padding:12px;
  box-shadow: 0 10px 28px rgba(255,77,172,.08), inset 0 0 0 1px rgba(255,77,172,.06);
  display:grid; gap:10px; text-align:center;
}

.status{ font-weight:700; }
.status .p1{ color:var(--pink) }
.status .p2{ color:var(--pink2) }
.status .win{ color:var(--win) }
.status .draw{ color:var(--muted) }

.scoreboard{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap }
.score{
  display:flex; align-items:center; gap:8px;
  padding:6px 12px; border-radius:12px;
  background:#121019; border:1px dashed #2b2733; color:var(--muted);
}
.tag{ font-weight:800; padding:2px 8px; border-radius:999px; border:1px solid #3a2f3c }
.tag.p1{ color:var(--pink) }
.tag.p2{ color:var(--pink2) }
.tag.draw{ color:#ddd }

.actions{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap }
.btn{
  background: linear-gradient(180deg, #1a0f17, #130a11);
  border:1px solid #5a2047;
  color:var(--txt); padding:10px 14px; border-radius:12px;
  font-weight:700; cursor:pointer;
  transition: transform .05s ease, box-shadow .2s ease, border-color .2s ease;
}
.btn:hover{ box-shadow:0 10px 24px rgba(255,77,172,.18); border-color:#ff4dac }
.btn:active{ transform: translateY(1px) }
.btn.ghost{ background:transparent; border-color:#2f2530; color:#e9dfea }

/* ===== Board ===== */
.board{
  width:min(92vw, 520px);
  aspect-ratio:1/1;            /* จัตุรัสเสมอ */
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
  flex-shrink:0;
}
.cell{
  background: radial-gradient(220px 200px at 50% 35%, #14101c 0%, #0c0a12 70%);
  border:1px solid var(--line);
  border-radius:16px;
  display:grid; place-items:center;
  font-weight:800;
  font-size:clamp(42px, 10vw, 78px);
  color:#e9dfea;
  user-select:none; cursor:pointer; position:relative;
  transition: transform .08s ease, border-color .2s ease, box-shadow .2s ease;
  outline:none;
}
.cell:hover{ transform:scale(1.03); border-color:#3a2a34 }
.cell:focus-visible{ outline:2px solid #ff7fc4 }

.cell.x{ color:var(--pink); text-shadow:0 0 18px rgba(255,77,172,.55); animation:pop .2s ease }
.cell.o{ color:var(--pink2); text-shadow:0 0 18px rgba(255,121,198,.55); animation:pop .2s ease }
.cell.win{
  background: linear-gradient(160deg, rgba(154,255,240,.18), rgba(0,0,0,0));
  border-color:#4fd3c4;
  box-shadow: inset 0 0 0 2px rgba(154,255,240,.35), 0 0 24px rgba(154,255,240,.2);
}
@keyframes pop{ 0%{transform:scale(.7); opacity:.5} 100%{transform:scale(1); opacity:1} }

/* ===== Footer ===== */
.foot{ color:var(--muted); font-size:.9rem; text-align:center }

/* ===== Small screens tweaks ===== */
@media (max-width:420px){
  .panel{ padding:10px }
  .score{ padding:6px 10px }
  .btn{ padding:10px 12px }
}
